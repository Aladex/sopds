Traceback (most recent call last):
  File "./sopdsd.py", line 184, in <module>
    daemon.start()
  File "./sopdsd.py", line 90, in start
    self.run()
  File "./sopdsd.py", line 170, in run
    scanner.log_options()
NameError: global name 'scanner' is not defined
2014-04-20 21:17:10,523 INFO      ***** Starting sopds-scan...
2014-04-20 21:20:17,078 INFO     Books added      : 0
2014-04-20 21:20:17,078 INFO     Books skipped    : 5569
2014-04-20 21:20:17,079 INFO     Books DB entries deleted : 0
2014-04-20 21:20:17,079 INFO     Books in archives: 0
2014-04-20 21:20:17,079 INFO     Archives scanned : 35
2014-04-20 21:20:17,080 INFO     Archives skipped : 127
2014-04-20 21:20:17,080 INFO     Bad archives     : 0
2014-04-20 21:20:17,081 INFO     Time estimated:0 hours, 3 minutes, 6 seconds.
2014-04-20 21:27:44,940 INFO      ***** Starting sopds-scan...
2014-04-20 21:31:54,480 INFO     Books added      : 0
2014-04-20 21:31:54,480 INFO     Books skipped    : 5569
2014-04-20 21:31:54,481 INFO     Books DB entries deleted : 0
2014-04-20 21:31:54,481 INFO     Books in archives: 0
2014-04-20 21:31:54,482 INFO     Archives scanned : 35
2014-04-20 21:31:54,482 INFO     Archives skipped : 127
2014-04-20 21:31:54,483 INFO     Bad archives     : 0
2014-04-20 21:31:54,483 INFO     Time estimated:0 hours, 4 minutes, 11 seconds.
2014-04-20 21:35:45,579 INFO      ***** Starting sopds-scan...
2014-04-20 21:39:27,670 INFO      ***** Starting sopds-scan...
2014-04-20 21:40:07,558 INFO      ***** Starting sopds-scan...
2014-04-20 21:41:09,482 INFO      ***** Starting sopds-scan...
2014-04-20 21:41:49,286 INFO      ***** Starting sopds-scan...
Traceback (most recent call last):
  File "./sopdsd.py", line 184, in <module>
    daemon.start()
  File "./sopdsd.py", line 90, in start
    self.run()
  File "./sopdsd.py", line 171, in run
    self.scanner.scan_all()
  File "/home/www/opds/py/sopdscan.py", line 88, in scan_all
    self.opdsdb.avail_check_prepare()
  File "/home/www/opds/py/sopdsdb.py", line 820, in avail_check_prepare
    cursor.execute(sql)
  File "/usr/lib/python3.3/site-packages/mysql/connector/cursor.py", line 508, in execute
    self._handle_result(self._connection.cmd_query(stmt))
  File "/usr/lib/python3.3/site-packages/mysql/connector/connection.py", line 636, in cmd_query
    result = self._handle_result(self._send_cmd(ServerCmd.QUERY, query))
  File "/usr/lib/python3.3/site-packages/mysql/connector/connection.py", line 554, in _handle_result
    raise errors.get_exception(packet)
mysql.connector.errors.DatabaseError: 1205 (HY000): Lock wait timeout exceeded; try restarting transaction
2014-04-20 21:43:41,567 INFO      ***** Starting sopds-scan...
2014-04-20 21:47:08,035 INFO     Books added      : 0
2014-04-20 21:47:08,036 INFO     Books skipped    : 5569
2014-04-20 21:47:08,036 INFO     Books DB entries deleted : 0
2014-04-20 21:47:08,037 INFO     Books in archives: 0
2014-04-20 21:47:08,037 INFO     Archives scanned : 35
2014-04-20 21:47:08,037 INFO     Archives skipped : 127
2014-04-20 21:47:08,038 INFO     Bad archives     : 0
2014-04-20 21:47:08,038 INFO     Time estimated:0 hours, 3 minutes, 26 seconds.
2014-04-20 21:47:38,067 INFO      ***** Starting sopds-scan...
2014-04-20 21:51:13,077 INFO     Books added      : 0
2014-04-20 21:51:13,078 INFO     Books skipped    : 11138
2014-04-20 21:51:13,084 INFO     Books DB entries deleted : 0
2014-04-20 21:51:13,085 INFO     Books in archives: 0
2014-04-20 21:51:13,085 INFO     Archives scanned : 70
2014-04-20 21:51:13,086 INFO     Archives skipped : 254
2014-04-20 21:51:13,086 INFO     Bad archives     : 0
2014-04-20 21:51:13,086 INFO     Time estimated:0 hours, 7 minutes, 31 seconds.
2014-04-20 21:52:11,941 INFO      ***** Starting sopds-scan...
